"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/chat/page",{

/***/ "(app-pages-browser)/./components/slack-interface.tsx":
/*!****************************************!*\
  !*** ./components/slack-interface.tsx ***!
  \****************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ SlackInterface; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _sidebar__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./sidebar */ \"(app-pages-browser)/./components/sidebar.tsx\");\n/* harmony import */ var _header__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./header */ \"(app-pages-browser)/./components/header.tsx\");\n/* harmony import */ var _channel_view__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./channel-view */ \"(app-pages-browser)/./components/channel-view.tsx\");\n/* harmony import */ var _thread_view__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./thread-view */ \"(app-pages-browser)/./components/thread-view.tsx\");\n/* harmony import */ var _search_results__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./search-results */ \"(app-pages-browser)/./components/search-results.tsx\");\n/* harmony import */ var _select_user_dialog__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./select-user-dialog */ \"(app-pages-browser)/./components/select-user-dialog.tsx\");\n/* harmony import */ var _lib_api__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/lib/api */ \"(app-pages-browser)/./lib/api.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\nfunction SlackInterface() {\n    var _channels_find, _channels_find1;\n    _s();\n    const searchParams = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useSearchParams)();\n    const username = searchParams.get(\"username\");\n    const [channels, setChannels] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [selectedChannel, setSelectedChannel] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [selectedThread, setSelectedThread] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [searchResults, setSearchResults] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [channelMessages, setChannelMessages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [dmMessages, setDMMessages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [users, setUsers] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [currentUser, setCurrentUser] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [notifications, setNotifications] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [selectedDirectMessage, setSelectedDirectMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isSelectUserDialogOpen, setIsSelectUserDialogOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [selectedAvatar, setSelectedAvatar] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [existingDMs, setExistingDMs] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    // Fetch initial data\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const fetchInitialData = async ()=>{\n            try {\n                const [channelsData, usersData] = await Promise.all([\n                    _lib_api__WEBPACK_IMPORTED_MODULE_9__.getChannels(),\n                    _lib_api__WEBPACK_IMPORTED_MODULE_9__.getUsers()\n                ]);\n                setChannels(channelsData);\n                setUsers(usersData);\n                if (channelsData.length > 0) {\n                    setSelectedChannel(channelsData[0].id);\n                }\n                // Set current user (in a real app, this would come from authentication)\n                if (username) {\n                    const existingUser = usersData.find((u)=>u.name === username);\n                    if (existingUser) {\n                        setCurrentUser(existingUser);\n                        // Fetch existing DM pairs for the user\n                        const dmPairs = await _lib_api__WEBPACK_IMPORTED_MODULE_9__.getDMPairs(existingUser.id);\n                        setExistingDMs(dmPairs);\n                    } else {\n                        // Create a new user with the provided username\n                        const newUser = await _lib_api__WEBPACK_IMPORTED_MODULE_9__.createUser({\n                            name: username,\n                            status: \"online\",\n                            statusMessage: \"\"\n                        });\n                        setCurrentUser(newUser);\n                        setUsers((prev)=>[\n                                ...prev,\n                                newUser\n                            ]);\n                    }\n                }\n            } catch (error) {\n                console.error(\"Failed to fetch initial data:\", error);\n            }\n        };\n        fetchInitialData();\n    }, []);\n    // Fetch messages when selected channel changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const fetchMessages = async ()=>{\n            if (!selectedChannel || !currentUser) return;\n            try {\n                const messages = await _lib_api__WEBPACK_IMPORTED_MODULE_9__.getMessages(selectedChannel);\n                setChannelMessages((prev)=>({\n                        ...prev,\n                        [selectedChannel]: messages\n                    }));\n            } catch (error) {\n                console.error(\"Failed to fetch messages:\", error);\n            }\n        };\n        fetchMessages();\n    }, [\n        selectedChannel,\n        currentUser\n    ]);\n    // Fetch DM messages when selected user changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const fetchDMMessages = async ()=>{\n            if (!selectedDirectMessage || !currentUser) return;\n            try {\n                // Find the selected user's ID\n                const selectedUser = users.find((u)=>u.name === selectedDirectMessage);\n                if (!selectedUser) return;\n                // Sort user IDs to ensure consistent dmPairId regardless of who's viewing\n                const userIds = [\n                    currentUser.id,\n                    selectedUser.id\n                ].sort();\n                const dmPairId = \"\".concat(userIds[0], \"_\").concat(userIds[1]);\n                const messages = await _lib_api__WEBPACK_IMPORTED_MODULE_9__.getMessages(undefined, dmPairId);\n                // Store messages using the same dmPairId as the key\n                setDMMessages((prev)=>({\n                        ...prev,\n                        [dmPairId]: messages\n                    }));\n            } catch (error) {\n                console.error(\"Failed to fetch DM messages:\", error);\n            }\n        };\n        fetchDMMessages();\n    }, [\n        selectedDirectMessage,\n        currentUser,\n        users\n    ]);\n    // Fetch avatar chat messages when selected avatar changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const fetchAvatarMessages = async ()=>{\n            if (!selectedAvatar || !currentUser) return;\n            try {\n                // Include userId in the avatarId to make it unique per user\n                const userSpecificAvatarId = \"\".concat(selectedAvatar, \"_\").concat(currentUser.id);\n                const messages = await _lib_api__WEBPACK_IMPORTED_MODULE_9__.getMessages(undefined, undefined, userSpecificAvatarId);\n                const avatarKey = \"avatar_\".concat(userSpecificAvatarId);\n                setDMMessages((prev)=>({\n                        ...prev,\n                        [avatarKey]: messages\n                    }));\n            } catch (error) {\n                console.error(\"Failed to fetch avatar messages:\", error);\n            }\n        };\n        fetchAvatarMessages();\n    }, [\n        selectedAvatar,\n        currentUser\n    ]);\n    const handleSearch = (query)=>{\n        if (query.trim() === \"\") {\n            setSearchResults(null);\n            return;\n        }\n        const lowercaseQuery = query.toLowerCase();\n        const allMessages = [\n            ...Object.values(channelMessages).flat(),\n            ...Object.values(dmMessages).flat()\n        ];\n        const results = allMessages.filter((message)=>{\n            const contentMatch = message.content.toLowerCase().includes(lowercaseQuery);\n            const filenameMatch = message.file && message.file.name.toLowerCase().includes(lowercaseQuery);\n            return contentMatch || filenameMatch;\n        });\n        setSearchResults(results);\n    };\n    const handleSearchResultClick = (result)=>{\n        // Find the channel or DM containing this message\n        for (const [channel, messages] of Object.entries(channelMessages)){\n            if (messages.some((m)=>m.id === result.id)) {\n                setSelectedChannel(channel);\n                setSelectedDirectMessage(null);\n                setSearchResults(null);\n                return;\n            }\n        }\n        for (const [dmKey, messages] of Object.entries(dmMessages)){\n            if (messages.some((m)=>m.id === result.id)) {\n                const [user1, user2] = dmKey.split(\"_\");\n                const otherUser = user1 === (currentUser === null || currentUser === void 0 ? void 0 : currentUser.name) ? user2 : user1;\n                setSelectedDirectMessage(otherUser);\n                setSelectedChannel(\"\");\n                setSearchResults(null);\n                return;\n            }\n        }\n    };\n    const handleSendMessage = async (content, file)=>{\n        if (!currentUser) return;\n        try {\n            let fileData;\n            if (file) {\n                // Create FormData and append file\n                const formData = new FormData();\n                formData.append(\"file\", file);\n                formData.append(\"filename\", file.name);\n                // Upload file first\n                const uploadResponse = await fetch(\"/api/files/upload\", {\n                    method: \"POST\",\n                    body: formData\n                });\n                if (!uploadResponse.ok) {\n                    const error = await uploadResponse.json();\n                    throw new Error(error.details || \"Failed to upload file\");\n                }\n                const { fileUrl } = await uploadResponse.json();\n                // Create file data structure\n                fileData = {\n                    name: file.name,\n                    type: file.type,\n                    url: fileUrl\n                };\n            }\n            // Update user status to show activity\n            if (currentUser && selectedAvatar) {\n                await _lib_api__WEBPACK_IMPORTED_MODULE_9__.updateUserStatus(currentUser.id, {\n                    status: \"active\",\n                    statusMessage: \"Chatting with \".concat(selectedAvatar)\n                });\n                setUsers((prev)=>prev.map((user)=>user.id === currentUser.id ? {\n                            ...user,\n                            status: \"active\",\n                            statusMessage: \"Chatting with \".concat(selectedAvatar)\n                        } : user));\n            }\n            // Find the selected user's ID for DMs\n            const selectedUser = selectedDirectMessage ? users.find((u)=>u.name === selectedDirectMessage) : null;\n            // Construct message data\n            const messageData = {\n                content,\n                userId: currentUser.id,\n                ...selectedChannel ? {\n                    channelId: selectedChannel\n                } : {},\n                ...selectedDirectMessage && selectedUser ? {\n                    dmPairId: \"\".concat([\n                        currentUser.id,\n                        selectedUser.id\n                    ].sort()[0], \"_\").concat([\n                        currentUser.id,\n                        selectedUser.id\n                    ].sort()[1])\n                } : {},\n                ...selectedAvatar ? {\n                    avatarId: \"\".concat(selectedAvatar, \"_\").concat(currentUser.id)\n                } : {},\n                ...fileData ? {\n                    file: fileData\n                } : {}\n            };\n            const newMessage = await _lib_api__WEBPACK_IMPORTED_MODULE_9__.sendMessage(messageData);\n            if (selectedChannel) {\n                setChannelMessages((prev)=>({\n                        ...prev,\n                        [selectedChannel]: [\n                            ...prev[selectedChannel] || [],\n                            newMessage\n                        ]\n                    }));\n            } else if (selectedDirectMessage && selectedUser) {\n                const userIds = [\n                    currentUser.id,\n                    selectedUser.id\n                ].sort();\n                const dmPairId = \"\".concat(userIds[0], \"_\").concat(userIds[1]);\n                setDMMessages((prev)=>({\n                        ...prev,\n                        [dmPairId]: [\n                            ...prev[dmPairId] || [],\n                            newMessage\n                        ]\n                    }));\n            } else if (selectedAvatar) {\n                // Handle avatar chat messages\n                const avatarKey = \"avatar_\".concat(selectedAvatar);\n                setDMMessages((prev)=>({\n                        ...prev,\n                        [avatarKey]: [\n                            ...prev[avatarKey] || [],\n                            newMessage\n                        ]\n                    }));\n            }\n        } catch (error) {\n            console.error(\"Failed to send message:\", error);\n        }\n    };\n    const handleReaction = async (messageId, emoji)=>{\n        if (!currentUser) return;\n        try {\n            await _lib_api__WEBPACK_IMPORTED_MODULE_9__.toggleReaction({\n                messageId,\n                userId: currentUser.id,\n                emoji\n            });\n            // Update the UI optimistically\n            const updateMessages = (messages)=>messages.map((msg)=>msg.id === messageId ? {\n                        ...msg,\n                        reactions: msg.reactions.includes(emoji) ? msg.reactions.filter((r)=>r !== emoji) : [\n                            ...msg.reactions,\n                            emoji\n                        ]\n                    } : msg);\n            if (selectedChannel) {\n                setChannelMessages((prev)=>({\n                        ...prev,\n                        [selectedChannel]: updateMessages(prev[selectedChannel] || [])\n                    }));\n            } else if (selectedDirectMessage) {\n                const selectedUser = users.find((u)=>u.name === selectedDirectMessage);\n                if (!selectedUser) return;\n                const userIds = [\n                    currentUser.id,\n                    selectedUser.id\n                ].sort();\n                const dmPairId = \"\".concat(userIds[0], \"_\").concat(userIds[1]);\n                setDMMessages((prev)=>({\n                        ...prev,\n                        [dmPairId]: updateMessages(prev[dmPairId] || [])\n                    }));\n            }\n        } catch (error) {\n            console.error(\"Failed to toggle reaction:\", error);\n        }\n    };\n    const handleAddChannel = async (name)=>{\n        try {\n            console.log(\"Attempting to create channel:\", name);\n            const newChannel = await _lib_api__WEBPACK_IMPORTED_MODULE_9__.createChannel(name);\n            console.log(\"Channel created successfully:\", newChannel);\n            setChannels((prev)=>[\n                    ...prev,\n                    newChannel\n                ]);\n            setSelectedChannel(newChannel.id);\n        } catch (error) {\n            console.error(\"Failed to create channel:\", error);\n        }\n    };\n    const handleAddDirectMessage = async (userName)=>{\n        if (!currentUser) return;\n        try {\n            // Find the selected user\n            const selectedUser = users.find((u)=>u.name === userName);\n            if (!selectedUser) return;\n            // Create a channel name for the DM that's consistent regardless of who creates it\n            const participants = [\n                currentUser.name,\n                userName\n            ].sort();\n            const channelName = \"dm_\".concat(participants.join(\"_\"));\n            // Check if the channel already exists\n            const existingChannel = channels.find((c)=>c.name === channelName);\n            if (existingChannel) {\n                setSelectedChannel(existingChannel.id);\n                setSelectedDirectMessage(userName);\n                return;\n            }\n            // Create a new channel for the DM\n            const newChannel = await _lib_api__WEBPACK_IMPORTED_MODULE_9__.createChannel(channelName);\n            setChannels((prev)=>[\n                    ...prev,\n                    newChannel\n                ]);\n            setSelectedChannel(newChannel.id);\n            setSelectedDirectMessage(userName);\n            // Add to existing DMs list\n            setExistingDMs((prev)=>[\n                    ...prev,\n                    {\n                        userName\n                    }\n                ]);\n        } catch (error) {\n            console.error(\"Failed to create DM channel:\", error);\n        }\n    };\n    // Update the SelectUserDialog handler\n    const handleSelectUser = (userName)=>{\n        handleAddDirectMessage(userName);\n        setIsSelectUserDialogOpen(false);\n    };\n    // Add handleLogout function\n    const handleLogout = ()=>{\n        // Close any open dialogs\n        setIsSelectUserDialogOpen(false);\n        // Clear user state\n        setCurrentUser(null);\n        setChannelMessages({});\n        setDMMessages({});\n        setSelectedChannel(\"\");\n        setSelectedDirectMessage(null);\n        setSelectedThread(null);\n        setSearchResults(null);\n        // Redirect to login page\n        router.push(\"/\");\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex h-screen\",\n        children: [\n            currentUser && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_sidebar__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                channels: channels.map((c)=>({\n                        id: c.id,\n                        name: c.name,\n                        isDM: c.name.startsWith(\"dm_\")\n                    })),\n                users: users,\n                existingDMs: existingDMs,\n                selectedChannel: selectedChannel ? ((_channels_find = channels.find((c)=>c.id === selectedChannel)) === null || _channels_find === void 0 ? void 0 : _channels_find.name) || \"\" : \"\",\n                setSelectedChannel: async (channelName)=>{\n                    const channel = channels.find((c)=>c.name === channelName);\n                    if (channel) {\n                        setSelectedChannel(channel.id);\n                        // If it's a DM channel, set the selectedDirectMessage\n                        if (channel.name.startsWith(\"dm_\")) {\n                            const [_, ...participants] = channel.name.split(\"_\");\n                            const otherUser = participants.find((name)=>name !== currentUser.name);\n                            setSelectedDirectMessage(otherUser || null);\n                        } else {\n                            setSelectedDirectMessage(null);\n                        }\n                        setSelectedAvatar(null);\n                        // Reset user status when leaving avatar chat\n                        if (currentUser && selectedAvatar) {\n                            await _lib_api__WEBPACK_IMPORTED_MODULE_9__.updateUserStatus(currentUser.id, {\n                                status: \"online\",\n                                statusMessage: \"\"\n                            });\n                            setUsers((prev)=>prev.map((user)=>user.id === currentUser.id ? {\n                                        ...user,\n                                        status: \"online\",\n                                        statusMessage: \"\"\n                                    } : user));\n                        }\n                    }\n                },\n                selectedDirectMessage: selectedDirectMessage,\n                onSelectDirectMessage: handleSelectUser,\n                onAddDirectMessage: ()=>setIsSelectUserDialogOpen(true),\n                onDeleteDirectMessage: async (userName)=>{\n                    // Find the DM channel\n                    const participants = [\n                        currentUser.name,\n                        userName\n                    ].sort();\n                    const channelName = \"dm_\".concat(participants.join(\"_\"));\n                    const channel = channels.find((c)=>c.name === channelName);\n                    if (channel) {\n                        // Remove the channel\n                        setChannels((prev)=>prev.filter((c)=>c.id !== channel.id));\n                        // Remove from existingDMs\n                        setExistingDMs((prev)=>prev.filter((dm)=>dm.userName !== userName));\n                        // Clear selection if needed\n                        if (selectedChannel === channel.id) {\n                            setSelectedChannel(\"\");\n                            setSelectedDirectMessage(null);\n                        }\n                    }\n                },\n                onStatusChange: async (status, statusMessage)=>{\n                    if (!currentUser) return;\n                    try {\n                        await _lib_api__WEBPACK_IMPORTED_MODULE_9__.updateUserStatus(currentUser.id, {\n                            status,\n                            statusMessage\n                        });\n                        setUsers((prev)=>prev.map((user)=>user.id === currentUser.id ? {\n                                    ...user,\n                                    status,\n                                    statusMessage\n                                } : user));\n                    } catch (error) {\n                        console.error(\"Failed to update status:\", error);\n                    }\n                },\n                onProfileImageChange: async (file)=>{\n                    if (!currentUser) return;\n                    try {\n                        const updatedUser = await _lib_api__WEBPACK_IMPORTED_MODULE_9__.uploadProfileImage(currentUser.id, file);\n                        setUsers((prev)=>prev.map((user)=>user.id === currentUser.id ? {\n                                    ...user,\n                                    profileImage: updatedUser.profileImage\n                                } : user));\n                        setCurrentUser((prev)=>prev ? {\n                                ...prev,\n                                profileImage: updatedUser.profileImage\n                            } : null);\n                    } catch (error) {\n                        console.error(\"Failed to update profile image:\", error);\n                    }\n                },\n                onAddChannel: handleAddChannel,\n                onDeleteChannel: (channel)=>{\n                    setChannels((prev)=>prev.filter((c)=>c.name !== channel));\n                },\n                currentUser: currentUser,\n                dmMessages: dmMessages,\n                selectedAvatar: selectedAvatar,\n                onSelectAvatar: async (avatar)=>{\n                    setSelectedAvatar(avatar);\n                    setSelectedChannel(\"\");\n                    setSelectedDirectMessage(null);\n                    // Update user status when selecting an avatar\n                    if (currentUser) {\n                        await _lib_api__WEBPACK_IMPORTED_MODULE_9__.updateUserStatus(currentUser.id, {\n                            status: \"active\",\n                            statusMessage: \"Chatting with \".concat(avatar)\n                        });\n                        setUsers((prev)=>prev.map((user)=>user.id === currentUser.id ? {\n                                    ...user,\n                                    status: \"active\",\n                                    statusMessage: \"Chatting with \".concat(avatar)\n                                } : user));\n                    }\n                },\n                onLogout: handleLogout\n            }, void 0, false, {\n                fileName: \"/Users/christiancattaneo/Projects/slack-interface/components/slack-interface.tsx\",\n                lineNumber: 402,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex-1 flex flex-col\",\n                children: [\n                    currentUser && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_header__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                        notifications: notifications,\n                        clearSearch: ()=>setSearchResults(null),\n                        currentUser: currentUser,\n                        onLogout: handleLogout\n                    }, void 0, false, {\n                        fileName: \"/Users/christiancattaneo/Projects/slack-interface/components/slack-interface.tsx\",\n                        lineNumber: 519,\n                        columnNumber: 11\n                    }, this),\n                    searchResults ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_search_results__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                        results: searchResults,\n                        onResultClick: handleSearchResultClick,\n                        onClearSearch: ()=>setSearchResults(null)\n                    }, void 0, false, {\n                        fileName: \"/Users/christiancattaneo/Projects/slack-interface/components/slack-interface.tsx\",\n                        lineNumber: 527,\n                        columnNumber: 11\n                    }, this) : currentUser ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex-1 flex\",\n                        children: !selectedThread ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_channel_view__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                            channel: selectedChannel ? ((_channels_find1 = channels.find((c)=>c.id === selectedChannel)) === null || _channels_find1 === void 0 ? void 0 : _channels_find1.name) || \"\" : \"\",\n                            directMessageUser: selectedDirectMessage ? users.find((u)=>u.name === selectedDirectMessage) || null : null,\n                            avatarChat: selectedAvatar,\n                            setSelectedThread: (messageId)=>{\n                                if (!messageId) {\n                                    setSelectedThread(null);\n                                    return;\n                                }\n                                const message = [\n                                    ...Object.values(channelMessages).flat(),\n                                    ...Object.values(dmMessages).flat()\n                                ].find((m)=>m.id === messageId);\n                                if (message) {\n                                    setSelectedThread({\n                                        id: messageId,\n                                        messageId: messageId,\n                                        messages: [\n                                            {\n                                                id: messageId,\n                                                user: message.user,\n                                                content: message.content,\n                                                timestamp: message.timestamp,\n                                                file: message.file\n                                            }\n                                        ]\n                                    });\n                                }\n                            },\n                            messages: selectedChannel ? channelMessages[selectedChannel] || [] : selectedDirectMessage ? (()=>{\n                                const dmUser = users.find((u)=>u.name === selectedDirectMessage);\n                                if (!dmUser) return [];\n                                const dmPairId = \"\".concat([\n                                    currentUser.id,\n                                    dmUser.id\n                                ].sort()[0], \"_\").concat([\n                                    currentUser.id,\n                                    dmUser.id\n                                ].sort()[1]);\n                                return dmMessages[dmPairId] || [];\n                            })() : selectedAvatar ? dmMessages[\"avatar_\".concat(selectedAvatar, \"_\").concat(currentUser.id)] || [] : [],\n                            onSendMessage: handleSendMessage,\n                            onReaction: handleReaction,\n                            currentUser: currentUser,\n                            onSearch: handleSearch\n                        }, void 0, false, {\n                            fileName: \"/Users/christiancattaneo/Projects/slack-interface/components/slack-interface.tsx\",\n                            lineNumber: 535,\n                            columnNumber: 15\n                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_thread_view__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                            thread: selectedThread,\n                            onClose: ()=>setSelectedThread(null),\n                            currentUser: currentUser,\n                            onSendReply: async (content, file)=>{\n                                if (!currentUser || !(selectedThread === null || selectedThread === void 0 ? void 0 : selectedThread.messageId)) return;\n                                try {\n                                    const reply = await _lib_api__WEBPACK_IMPORTED_MODULE_9__.sendThreadReply(selectedThread.messageId, {\n                                        content,\n                                        userId: currentUser.id,\n                                        ...file ? {\n                                            file: {\n                                                name: file.name,\n                                                type: file.type,\n                                                url: URL.createObjectURL(file)\n                                            }\n                                        } : {}\n                                    });\n                                    setSelectedThread((prev)=>prev ? {\n                                            ...prev,\n                                            messages: [\n                                                ...prev.messages,\n                                                reply\n                                            ]\n                                        } : null);\n                                } catch (error) {\n                                    console.error(\"Failed to send reply:\", error);\n                                }\n                            }\n                        }, void 0, false, {\n                            fileName: \"/Users/christiancattaneo/Projects/slack-interface/components/slack-interface.tsx\",\n                            lineNumber: 580,\n                            columnNumber: 15\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/christiancattaneo/Projects/slack-interface/components/slack-interface.tsx\",\n                        lineNumber: 533,\n                        columnNumber: 11\n                    }, this) : null\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/christiancattaneo/Projects/slack-interface/components/slack-interface.tsx\",\n                lineNumber: 517,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_select_user_dialog__WEBPACK_IMPORTED_MODULE_8__.SelectUserDialog, {\n                isOpen: isSelectUserDialogOpen,\n                onClose: ()=>setIsSelectUserDialogOpen(false),\n                users: users,\n                onSelectUser: handleSelectUser,\n                currentUser: currentUser\n            }, void 0, false, {\n                fileName: \"/Users/christiancattaneo/Projects/slack-interface/components/slack-interface.tsx\",\n                lineNumber: 611,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/christiancattaneo/Projects/slack-interface/components/slack-interface.tsx\",\n        lineNumber: 400,\n        columnNumber: 5\n    }, this);\n}\n_s(SlackInterface, \"1EjqdfIx5JdLtPCCNT4I142FQ1U=\", false, function() {\n    return [\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useSearchParams,\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter\n    ];\n});\n_c = SlackInterface;\nvar _c;\n$RefreshReg$(_c, \"SlackInterface\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvc2xhY2staW50ZXJmYWNlLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUUyQztBQUNpQjtBQUM3QjtBQUNGO0FBQ1c7QUFDRjtBQUNNO0FBQ1c7QUFDdkI7QUFnQmpCLFNBQVNXO1FBK1hxQkMsZ0JBOEhGQTs7SUE1ZnpDLE1BQU1DLGVBQWVWLGdFQUFlQTtJQUNwQyxNQUFNVyxXQUFXRCxhQUFhRSxHQUFHLENBQUM7SUFDbEMsTUFBTSxDQUFDSCxVQUFVSSxZQUFZLEdBQUdoQiwrQ0FBUUEsQ0FBWSxFQUFFO0lBQ3RELE1BQU0sQ0FBQ2lCLGlCQUFpQkMsbUJBQW1CLEdBQUdsQiwrQ0FBUUEsQ0FBUztJQUMvRCxNQUFNLENBQUNtQixnQkFBZ0JDLGtCQUFrQixHQUFHcEIsK0NBQVFBLENBQWdCO0lBQ3BFLE1BQU0sQ0FBQ3FCLGVBQWVDLGlCQUFpQixHQUFHdEIsK0NBQVFBLENBQXFDO0lBQ3ZGLE1BQU0sQ0FBQ3VCLGlCQUFpQkMsbUJBQW1CLEdBQUd4QiwrQ0FBUUEsQ0FBa0IsQ0FBQztJQUN6RSxNQUFNLENBQUN5QixZQUFZQyxjQUFjLEdBQUcxQiwrQ0FBUUEsQ0FBYSxDQUFDO0lBQzFELE1BQU0sQ0FBQzJCLE9BQU9DLFNBQVMsR0FBRzVCLCtDQUFRQSxDQUFTLEVBQUU7SUFDN0MsTUFBTSxDQUFDNkIsYUFBYUMsZUFBZSxHQUFHOUIsK0NBQVFBLENBQWM7SUFDNUQsTUFBTSxDQUFDK0IsZUFBZUMsaUJBQWlCLEdBQUdoQywrQ0FBUUEsQ0FBaUIsRUFBRTtJQUNyRSxNQUFNLENBQUNpQyx1QkFBdUJDLHlCQUF5QixHQUFHbEMsK0NBQVFBLENBQWdCO0lBQ2xGLE1BQU0sQ0FBQ21DLHdCQUF3QkMsMEJBQTBCLEdBQUdwQywrQ0FBUUEsQ0FBQztJQUNyRSxNQUFNLENBQUNxQyxnQkFBZ0JDLGtCQUFrQixHQUFHdEMsK0NBQVFBLENBQWdCO0lBQ3BFLE1BQU0sQ0FBQ3VDLGFBQWFD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SSxDQUFDLENBQUM7b0NBQ1I7b0NBQ0F4RSxrQkFBa0J5QyxDQUFBQSxPQUFRQSxPQUFPOzRDQUMvQixHQUFHQSxJQUFJOzRDQUNQSSxVQUFVO21EQUFJSixLQUFLSSxRQUFRO2dEQUFFc0g7NkNBQU07d0NBQ3JDLElBQUk7Z0NBQ04sRUFBRSxPQUFPekgsT0FBTztvQ0FDZEMsUUFBUUQsS0FBSyxDQUFDLHlCQUF5QkE7Z0NBQ3pDOzRCQUNGOzs7Ozs7Ozs7OytCQUlKOzs7Ozs7OzBCQUVOLDhEQUFDckQsaUVBQWdCQTtnQkFDZmtMLFFBQVF4SjtnQkFDUmtKLFNBQVMsSUFBTWpKLDBCQUEwQjtnQkFDekNULE9BQU9BO2dCQUNQaUssY0FBY3hDO2dCQUNkdkgsYUFBYUE7Ozs7Ozs7Ozs7OztBQUlyQjtHQWpsQndCbEI7O1FBQ0RSLDREQUFlQTtRQWVyQkQsc0RBQVNBOzs7S0FoQkZTIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2NvbXBvbmVudHMvc2xhY2staW50ZXJmYWNlLnRzeD81OWFhIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50J1xuXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyB1c2VSb3V0ZXIsIHVzZVNlYXJjaFBhcmFtcyB9IGZyb20gJ25leHQvbmF2aWdhdGlvbidcbmltcG9ydCBTaWRlYmFyIGZyb20gJy4vc2lkZWJhcidcbmltcG9ydCBIZWFkZXIgZnJvbSAnLi9oZWFkZXInXG5pbXBvcnQgQ2hhbm5lbFZpZXcgZnJvbSAnLi9jaGFubmVsLXZpZXcnXG5pbXBvcnQgVGhyZWFkVmlldyBmcm9tICcuL3RocmVhZC12aWV3J1xuaW1wb3J0IFNlYXJjaFJlc3VsdHMgZnJvbSAnLi9zZWFyY2gtcmVzdWx0cydcbmltcG9ydCB7IFNlbGVjdFVzZXJEaWFsb2cgfSBmcm9tICcuL3NlbGVjdC11c2VyLWRpYWxvZydcbmltcG9ydCAqIGFzIGFwaSBmcm9tICdAL2xpYi9hcGknXG5pbXBvcnQgeyBNZXNzYWdlLCBUaHJlYWRNZXNzYWdlLCBUaHJlYWQsIFVzZXIsIE5vdGlmaWNhdGlvbiB9IGZyb20gJ0AvbGliL3R5cGVzJ1xuXG5pbnRlcmZhY2UgQ2hhbm5lbE1lc3NhZ2VzIHtcbiAgW2NoYW5uZWxJZDogc3RyaW5nXTogTWVzc2FnZVtdO1xufVxuXG5pbnRlcmZhY2UgRE1NZXNzYWdlcyB7XG4gIFt1c2VyUGFpcjogc3RyaW5nXTogTWVzc2FnZVtdO1xufVxuXG5pbnRlcmZhY2UgQ2hhbm5lbCB7XG4gIGlkOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gU2xhY2tJbnRlcmZhY2UoKSB7XG4gIGNvbnN0IHNlYXJjaFBhcmFtcyA9IHVzZVNlYXJjaFBhcmFtcygpXG4gIGNvbnN0IHVzZXJuYW1lID0gc2VhcmNoUGFyYW1zLmdldCgndXNlcm5hbWUnKVxuICBjb25zdCBbY2hhbm5lbHMsIHNldENoYW5uZWxzXSA9IHVzZVN0YXRlPENoYW5uZWxbXT4oW10pXG4gIGNvbnN0IFtzZWxlY3RlZENoYW5uZWwsIHNldFNlbGVjdGVkQ2hhbm5lbF0gPSB1c2VTdGF0ZTxzdHJpbmc+KCcnKVxuICBjb25zdCBbc2VsZWN0ZWRUaHJlYWQsIHNldFNlbGVjdGVkVGhyZWFkXSA9IHVzZVN0YXRlPFRocmVhZCB8IG51bGw+KG51bGwpXG4gIGNvbnN0IFtzZWFyY2hSZXN1bHRzLCBzZXRTZWFyY2hSZXN1bHRzXSA9IHVzZVN0YXRlPChNZXNzYWdlIHwgVGhyZWFkTWVzc2FnZSlbXSB8IG51bGw+KG51bGwpXG4gIGNvbnN0IFtjaGFubmVsTWVzc2FnZXMsIHNldENoYW5uZWxNZXNzYWdlc10gPSB1c2VTdGF0ZTxDaGFubmVsTWVzc2FnZXM+KHt9KVxuICBjb25zdCBbZG1NZXNzYWdlcywgc2V0RE1NZXNzYWdlc10gPSB1c2VTdGF0ZTxETU1lc3NhZ2VzPih7fSlcbiAgY29uc3QgW3VzZXJzLCBzZXRVc2Vyc10gPSB1c2VTdGF0ZTxVc2VyW10+KFtdKVxuICBjb25zdCBbY3VycmVudFVzZXIsIHNldEN1cnJlbnRVc2VyXSA9IHVzZVN0YXRlPFVzZXIgfCBudWxsPihudWxsKVxuICBjb25zdCBbbm90aWZpY2F0aW9ucywgc2V0Tm90aWZpY2F0aW9uc10gPSB1c2VTdGF0ZTxOb3RpZmljYXRpb25bXT4oW10pXG4gIGNvbnN0IFtzZWxlY3RlZERpcmVjdE1lc3NhZ2UsIHNldFNlbGVjdGVkRGlyZWN0TWVzc2FnZV0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKVxuICBjb25zdCBbaXNTZWxlY3RVc2VyRGlhbG9nT3Blbiwgc2V0SXNTZWxlY3RVc2VyRGlhbG9nT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgW3NlbGVjdGVkQXZhdGFyLCBzZXRTZWxlY3RlZEF2YXRhcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKVxuICBjb25zdCBbZXhpc3RpbmdETXMsIHNldEV4aXN0aW5nRE1zXSA9IHVzZVN0YXRlPHt1c2VyTmFtZTogc3RyaW5nfVtdPihbXSlcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKClcblxuICAvLyBGZXRjaCBpbml0aWFsIGRhdGFcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBmZXRjaEluaXRpYWxEYXRhID0gYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgW2NoYW5uZWxzRGF0YSwgdXNlcnNEYXRhXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgICAgICBhcGkuZ2V0Q2hhbm5lbHMoKSxcbiAgICAgICAgICBhcGkuZ2V0VXNlcnMoKSxcbiAgICAgICAgXSlcbiAgICAgICAgc2V0Q2hhbm5lbHMoY2hhbm5lbHNEYXRhKVxuICAgICAgICBzZXRVc2Vycyh1c2Vyc0RhdGEpXG4gICAgICAgIGlmIChjaGFubmVsc0RhdGEubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHNldFNlbGVjdGVkQ2hhbm5lbChjaGFubmVsc0RhdGFbMF0uaWQpXG4gICAgICAgIH1cblxuICAgICAgICAvLyBTZXQgY3VycmVudCB1c2VyIChpbiBhIHJlYWwgYXBwLCB0aGlzIHdvdWxkIGNvbWUgZnJvbSBhdXRoZW50aWNhdGlvbilcbiAgICAgICAgaWYgKHVzZXJuYW1lKSB7XG4gICAgICAgICAgY29uc3QgZXhpc3RpbmdVc2VyID0gdXNlcnNEYXRhLmZpbmQoKHU6IFVzZXIpID0+IHUubmFtZSA9PT0gdXNlcm5hbWUpXG4gICAgICAgICAgaWYgKGV4aXN0aW5nVXNlcikge1xuICAgICAgICAgICAgc2V0Q3VycmVudFVzZXIoZXhpc3RpbmdVc2VyKVxuICAgICAgICAgICAgLy8gRmV0Y2ggZXhpc3RpbmcgRE0gcGFpcnMgZm9yIHRoZSB1c2VyXG4gICAgICAgICAgICBjb25zdCBkbVBhaXJzID0gYXdhaXQgYXBpLmdldERNUGFpcnMoZXhpc3RpbmdVc2VyLmlkKVxuICAgICAgICAgICAgc2V0RXhpc3RpbmdETXMoZG1QYWlycylcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gQ3JlYXRlIGEgbmV3IHVzZXIgd2l0aCB0aGUgcHJvdmlkZWQgdXNlcm5hbWVcbiAgICAgICAgICAgIGNvbnN0IG5ld1VzZXIgPSBhd2FpdCBhcGkuY3JlYXRlVXNlcih7XG4gICAgICAgICAgICAgIG5hbWU6IHVzZXJuYW1lLFxuICAgICAgICAgICAgICBzdGF0dXM6ICdvbmxpbmUnLFxuICAgICAgICAgICAgICBzdGF0dXNNZXNzYWdlOiAnJyxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBzZXRDdXJyZW50VXNlcihuZXdVc2VyKVxuICAgICAgICAgICAgc2V0VXNlcnMocHJldiA9PiBbLi4ucHJldiwgbmV3VXNlcl0pXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gZmV0Y2ggaW5pdGlhbCBkYXRhOicsIGVycm9yKVxuICAgICAgfVxuICAgIH1cblxuICAgIGZldGNoSW5pdGlhbERhdGEoKVxuICB9LCBbXSlcblxuICAvLyBGZXRjaCBtZXNzYWdlcyB3aGVuIHNlbGVjdGVkIGNoYW5uZWwgY2hhbmdlc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGZldGNoTWVzc2FnZXMgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXNlbGVjdGVkQ2hhbm5lbCB8fCAhY3VycmVudFVzZXIpIHJldHVyblxuXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBtZXNzYWdlcyA9IGF3YWl0IGFwaS5nZXRNZXNzYWdlcyhzZWxlY3RlZENoYW5uZWwpXG4gICAgICAgIHNldENoYW5uZWxNZXNzYWdlcyhwcmV2ID0+ICh7XG4gICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICBbc2VsZWN0ZWRDaGFubmVsXTogbWVzc2FnZXMsXG4gICAgICAgIH0pKVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGZldGNoIG1lc3NhZ2VzOicsIGVycm9yKVxuICAgICAgfVxuICAgIH1cblxuICAgIGZldGNoTWVzc2FnZXMoKVxuICB9LCBbc2VsZWN0ZWRDaGFubmVsLCBjdXJyZW50VXNlcl0pXG5cbiAgLy8gRmV0Y2ggRE0gbWVzc2FnZXMgd2hlbiBzZWxlY3RlZCB1c2VyIGNoYW5nZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBmZXRjaERNTWVzc2FnZXMgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXNlbGVjdGVkRGlyZWN0TWVzc2FnZSB8fCAhY3VycmVudFVzZXIpIHJldHVyblxuXG4gICAgICB0cnkge1xuICAgICAgICAvLyBGaW5kIHRoZSBzZWxlY3RlZCB1c2VyJ3MgSURcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRVc2VyID0gdXNlcnMuZmluZCh1ID0+IHUubmFtZSA9PT0gc2VsZWN0ZWREaXJlY3RNZXNzYWdlKVxuICAgICAgICBpZiAoIXNlbGVjdGVkVXNlcikgcmV0dXJuXG5cbiAgICAgICAgLy8gU29ydCB1c2VyIElEcyB0byBlbnN1cmUgY29uc2lzdGVudCBkbVBhaXJJZCByZWdhcmRsZXNzIG9mIHdobydzIHZpZXdpbmdcbiAgICAgICAgY29uc3QgdXNlcklkcyA9IFtjdXJyZW50VXNlci5pZCwgc2VsZWN0ZWRVc2VyLmlkXS5zb3J0KClcbiAgICAgICAgY29uc3QgZG1QYWlySWQgPSBgJHt1c2VySWRzWzBdfV8ke3VzZXJJZHNbMV19YFxuICAgICAgICBjb25zdCBtZXNzYWdlcyA9IGF3YWl0IGFwaS5nZXRNZXNzYWdlcyh1bmRlZmluZWQsIGRtUGFpcklkKVxuICAgICAgICBcbiAgICAgICAgLy8gU3RvcmUgbWVzc2FnZXMgdXNpbmcgdGhlIHNhbWUgZG1QYWlySWQgYXMgdGhlIGtleVxuICAgICAgICBzZXRETU1lc3NhZ2VzKHByZXYgPT4gKHtcbiAgICAgICAgICAuLi5wcmV2LFxuICAgICAgICAgIFtkbVBhaXJJZF06IG1lc3NhZ2VzLFxuICAgICAgICB9KSlcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCBETSBtZXNzYWdlczonLCBlcnJvcilcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmZXRjaERNTWVzc2FnZXMoKVxuICB9LCBbc2VsZWN0ZWREaXJlY3RNZXNzYWdlLCBjdXJyZW50VXNlciwgdXNlcnNdKVxuXG4gIC8vIEZldGNoIGF2YXRhciBjaGF0IG1lc3NhZ2VzIHdoZW4gc2VsZWN0ZWQgYXZhdGFyIGNoYW5nZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBmZXRjaEF2YXRhck1lc3NhZ2VzID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFzZWxlY3RlZEF2YXRhciB8fCAhY3VycmVudFVzZXIpIHJldHVyblxuXG4gICAgICB0cnkge1xuICAgICAgICAvLyBJbmNsdWRlIHVzZXJJZCBpbiB0aGUgYXZhdGFySWQgdG8gbWFrZSBpdCB1bmlxdWUgcGVyIHVzZXJcbiAgICAgICAgY29uc3QgdXNlclNwZWNpZmljQXZhdGFySWQgPSBgJHtzZWxlY3RlZEF2YXRhcn1fJHtjdXJyZW50VXNlci5pZH1gXG4gICAgICAgIGNvbnN0IG1lc3NhZ2VzID0gYXdhaXQgYXBpLmdldE1lc3NhZ2VzKHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1c2VyU3BlY2lmaWNBdmF0YXJJZClcbiAgICAgICAgY29uc3QgYXZhdGFyS2V5ID0gYGF2YXRhcl8ke3VzZXJTcGVjaWZpY0F2YXRhcklkfWBcbiAgICAgICAgc2V0RE1NZXNzYWdlcyhwcmV2ID0+ICh7XG4gICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICBbYXZhdGFyS2V5XTogbWVzc2FnZXMsXG4gICAgICAgIH0pKVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGZldGNoIGF2YXRhciBtZXNzYWdlczonLCBlcnJvcilcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmZXRjaEF2YXRhck1lc3NhZ2VzKClcbiAgfSwgW3NlbGVjdGVkQXZhdGFyLCBjdXJyZW50VXNlcl0pXG5cbiAgY29uc3QgaGFuZGxlU2VhcmNoID0gKHF1ZXJ5OiBzdHJpbmcpID0+IHtcbiAgICBpZiAocXVlcnkudHJpbSgpID09PSAnJykge1xuICAgICAgc2V0U2VhcmNoUmVzdWx0cyhudWxsKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgY29uc3QgbG93ZXJjYXNlUXVlcnkgPSBxdWVyeS50b0xvd2VyQ2FzZSgpXG5cbiAgICBjb25zdCBhbGxNZXNzYWdlcyA9IFtcbiAgICAgIC4uLk9iamVjdC52YWx1ZXMoY2hhbm5lbE1lc3NhZ2VzKS5mbGF0KCksXG4gICAgICAuLi5PYmplY3QudmFsdWVzKGRtTWVzc2FnZXMpLmZsYXQoKSxcbiAgICBdXG5cbiAgICBjb25zdCByZXN1bHRzID0gYWxsTWVzc2FnZXMuZmlsdGVyKChtZXNzYWdlKSA9PiB7XG4gICAgICBjb25zdCBjb250ZW50TWF0Y2ggPSBtZXNzYWdlLmNvbnRlbnQudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhsb3dlcmNhc2VRdWVyeSlcbiAgICAgIGNvbnN0IGZpbGVuYW1lTWF0Y2ggPSBtZXNzYWdlLmZpbGUgJiYgbWVzc2FnZS5maWxlLm5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhsb3dlcmNhc2VRdWVyeSlcbiAgICAgIHJldHVybiBjb250ZW50TWF0Y2ggfHwgZmlsZW5hbWVNYXRjaFxuICAgIH0pXG5cbiAgICBzZXRTZWFyY2hSZXN1bHRzKHJlc3VsdHMpXG4gIH1cblxuICBjb25zdCBoYW5kbGVTZWFyY2hSZXN1bHRDbGljayA9IChyZXN1bHQ6IE1lc3NhZ2UgfCBUaHJlYWRNZXNzYWdlKSA9PiB7XG4gICAgLy8gRmluZCB0aGUgY2hhbm5lbCBvciBETSBjb250YWluaW5nIHRoaXMgbWVzc2FnZVxuICAgIGZvciAoY29uc3QgW2NoYW5uZWwsIG1lc3NhZ2VzXSBvZiBPYmplY3QuZW50cmllcyhjaGFubmVsTWVzc2FnZXMpKSB7XG4gICAgICBpZiAobWVzc2FnZXMuc29tZShtID0+IG0uaWQgPT09IHJlc3VsdC5pZCkpIHtcbiAgICAgICAgc2V0U2VsZWN0ZWRDaGFubmVsKGNoYW5uZWwpXG4gICAgICAgIHNldFNlbGVjdGVkRGlyZWN0TWVzc2FnZShudWxsKVxuICAgICAgICBzZXRTZWFyY2hSZXN1bHRzKG51bGwpXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAoY29uc3QgW2RtS2V5LCBtZXNzYWdlc10gb2YgT2JqZWN0LmVudHJpZXMoZG1NZXNzYWdlcykpIHtcbiAgICAgIGlmIChtZXNzYWdlcy5zb21lKG0gPT4gbS5pZCA9PT0gcmVzdWx0LmlkKSkge1xuICAgICAgICBjb25zdCBbdXNlcjEsIHVzZXIyXSA9IGRtS2V5LnNwbGl0KCdfJylcbiAgICAgICAgY29uc3Qgb3RoZXJVc2VyID0gdXNlcjEgPT09IGN1cnJlbnRVc2VyPy5uYW1lID8gdXNlcjIgOiB1c2VyMVxuICAgICAgICBzZXRTZWxlY3RlZERpcmVjdE1lc3NhZ2Uob3RoZXJVc2VyKVxuICAgICAgICBzZXRTZWxlY3RlZENoYW5uZWwoJycpXG4gICAgICAgIHNldFNlYXJjaFJlc3VsdHMobnVsbClcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY29uc3QgaGFuZGxlU2VuZE1lc3NhZ2UgPSBhc3luYyAoY29udGVudDogc3RyaW5nLCBmaWxlPzogRmlsZSkgPT4ge1xuICAgIGlmICghY3VycmVudFVzZXIpIHJldHVyblxuXG4gICAgdHJ5IHtcbiAgICAgIGxldCBmaWxlRGF0YVxuICAgICAgaWYgKGZpbGUpIHtcbiAgICAgICAgLy8gQ3JlYXRlIEZvcm1EYXRhIGFuZCBhcHBlbmQgZmlsZVxuICAgICAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpXG4gICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnZmlsZScsIGZpbGUpXG4gICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnZmlsZW5hbWUnLCBmaWxlLm5hbWUpXG4gICAgICAgIFxuICAgICAgICAvLyBVcGxvYWQgZmlsZSBmaXJzdFxuICAgICAgICBjb25zdCB1cGxvYWRSZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2ZpbGVzL3VwbG9hZCcsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBib2R5OiBmb3JtRGF0YVxuICAgICAgICB9KVxuICAgICAgICBcbiAgICAgICAgaWYgKCF1cGxvYWRSZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnN0IGVycm9yID0gYXdhaXQgdXBsb2FkUmVzcG9uc2UuanNvbigpXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yLmRldGFpbHMgfHwgJ0ZhaWxlZCB0byB1cGxvYWQgZmlsZScpXG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHsgZmlsZVVybCB9ID0gYXdhaXQgdXBsb2FkUmVzcG9uc2UuanNvbigpXG4gICAgICAgIFxuICAgICAgICAvLyBDcmVhdGUgZmlsZSBkYXRhIHN0cnVjdHVyZVxuICAgICAgICBmaWxlRGF0YSA9IHtcbiAgICAgICAgICBuYW1lOiBmaWxlLm5hbWUsXG4gICAgICAgICAgdHlwZTogZmlsZS50eXBlLFxuICAgICAgICAgIHVybDogZmlsZVVybFxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFVwZGF0ZSB1c2VyIHN0YXR1cyB0byBzaG93IGFjdGl2aXR5XG4gICAgICBpZiAoY3VycmVudFVzZXIgJiYgc2VsZWN0ZWRBdmF0YXIpIHtcbiAgICAgICAgYXdhaXQgYXBpLnVwZGF0ZVVzZXJTdGF0dXMoY3VycmVudFVzZXIuaWQsIHtcbiAgICAgICAgICBzdGF0dXM6ICdhY3RpdmUnLFxuICAgICAgICAgIHN0YXR1c01lc3NhZ2U6IGBDaGF0dGluZyB3aXRoICR7c2VsZWN0ZWRBdmF0YXJ9YCxcbiAgICAgICAgfSlcbiAgICAgICAgc2V0VXNlcnMocHJldiA9PiBwcmV2Lm1hcCh1c2VyID0+IFxuICAgICAgICAgIHVzZXIuaWQgPT09IGN1cnJlbnRVc2VyLmlkIFxuICAgICAgICAgICAgPyB7IC4uLnVzZXIsIHN0YXR1czogJ2FjdGl2ZScsIHN0YXR1c01lc3NhZ2U6IGBDaGF0dGluZyB3aXRoICR7c2VsZWN0ZWRBdmF0YXJ9YCB9XG4gICAgICAgICAgICA6IHVzZXJcbiAgICAgICAgKSlcbiAgICAgIH1cblxuICAgICAgLy8gRmluZCB0aGUgc2VsZWN0ZWQgdXNlcidzIElEIGZvciBETXNcbiAgICAgIGNvbnN0IHNlbGVjdGVkVXNlciA9IHNlbGVjdGVkRGlyZWN0TWVzc2FnZSA/IHVzZXJzLmZpbmQodSA9PiB1Lm5hbWUgPT09IHNlbGVjdGVkRGlyZWN0TWVzc2FnZSkgOiBudWxsXG5cbiAgICAgIC8vIENvbnN0cnVjdCBtZXNzYWdlIGRhdGFcbiAgICAgIGNvbnN0IG1lc3NhZ2VEYXRhID0ge1xuICAgICAgICBjb250ZW50LFxuICAgICAgICB1c2VySWQ6IGN1cnJlbnRVc2VyLmlkLFxuICAgICAgICAuLi4oc2VsZWN0ZWRDaGFubmVsID8geyBjaGFubmVsSWQ6IHNlbGVjdGVkQ2hhbm5lbCB9IDoge30pLFxuICAgICAgICAuLi4oc2VsZWN0ZWREaXJlY3RNZXNzYWdlICYmIHNlbGVjdGVkVXNlciA/IHsgXG4gICAgICAgICAgZG1QYWlySWQ6IGAke1tjdXJyZW50VXNlci5pZCwgc2VsZWN0ZWRVc2VyLmlkXS5zb3J0KClbMF19XyR7W2N1cnJlbnRVc2VyLmlkLCBzZWxlY3RlZFVzZXIuaWRdLnNvcnQoKVsxXX1gXG4gICAgICAgIH0gOiB7fSksXG4gICAgICAgIC4uLihzZWxlY3RlZEF2YXRhciA/IHsgYXZhdGFySWQ6IGAke3NlbGVjdGVkQXZhdGFyfV8ke2N1cnJlbnRVc2VyLmlkfWAgfSA6IHt9KSxcbiAgICAgICAgLi4uKGZpbGVEYXRhID8geyBmaWxlOiBmaWxlRGF0YSB9IDoge30pLFxuICAgICAgfVxuXG4gICAgICBjb25zdCBuZXdNZXNzYWdlID0gYXdhaXQgYXBpLnNlbmRNZXNzYWdlKG1lc3NhZ2VEYXRhKVxuXG4gICAgICBpZiAoc2VsZWN0ZWRDaGFubmVsKSB7XG4gICAgICAgIHNldENoYW5uZWxNZXNzYWdlcyhwcmV2ID0+ICh7XG4gICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICBbc2VsZWN0ZWRDaGFubmVsXTogWy4uLihwcmV2W3NlbGVjdGVkQ2hhbm5lbF0gfHwgW10pLCBuZXdNZXNzYWdlXSxcbiAgICAgICAgfSkpXG4gICAgICB9IGVsc2UgaWYgKHNlbGVjdGVkRGlyZWN0TWVzc2FnZSAmJiBzZWxlY3RlZFVzZXIpIHtcbiAgICAgICAgY29uc3QgdXNlcklkcyA9IFtjdXJyZW50VXNlci5pZCwgc2VsZWN0ZWRVc2VyLmlkXS5zb3J0KClcbiAgICAgICAgY29uc3QgZG1QYWlySWQgPSBgJHt1c2VySWRzWzBdfV8ke3VzZXJJZHNbMV19YFxuICAgICAgICBzZXRETU1lc3NhZ2VzKHByZXYgPT4gKHtcbiAgICAgICAgICAuLi5wcmV2LFxuICAgICAgICAgIFtkbVBhaXJJZF06IFsuLi4ocHJldltkbVBhaXJJZF0gfHwgW10pLCBuZXdNZXNzYWdlXSxcbiAgICAgICAgfSkpXG4gICAgICB9IGVsc2UgaWYgKHNlbGVjdGVkQXZhdGFyKSB7XG4gICAgICAgIC8vIEhhbmRsZSBhdmF0YXIgY2hhdCBtZXNzYWdlc1xuICAgICAgICBjb25zdCBhdmF0YXJLZXkgPSBgYXZhdGFyXyR7c2VsZWN0ZWRBdmF0YXJ9YFxuICAgICAgICBzZXRETU1lc3NhZ2VzKHByZXYgPT4gKHtcbiAgICAgICAgICAuLi5wcmV2LFxuICAgICAgICAgIFthdmF0YXJLZXldOiBbLi4uKHByZXZbYXZhdGFyS2V5XSB8fCBbXSksIG5ld01lc3NhZ2VdLFxuICAgICAgICB9KSlcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHNlbmQgbWVzc2FnZTonLCBlcnJvcilcbiAgICB9XG4gIH1cblxuICBjb25zdCBoYW5kbGVSZWFjdGlvbiA9IGFzeW5jIChtZXNzYWdlSWQ6IHN0cmluZywgZW1vamk6IHN0cmluZykgPT4ge1xuICAgIGlmICghY3VycmVudFVzZXIpIHJldHVyblxuXG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IGFwaS50b2dnbGVSZWFjdGlvbih7XG4gICAgICAgIG1lc3NhZ2VJZCxcbiAgICAgICAgdXNlcklkOiBjdXJyZW50VXNlci5pZCxcbiAgICAgICAgZW1vamksXG4gICAgICB9KVxuXG4gICAgICAvLyBVcGRhdGUgdGhlIFVJIG9wdGltaXN0aWNhbGx5XG4gICAgICBjb25zdCB1cGRhdGVNZXNzYWdlcyA9IChtZXNzYWdlczogTWVzc2FnZVtdKSA9PlxuICAgICAgICBtZXNzYWdlcy5tYXAobXNnID0+XG4gICAgICAgICAgbXNnLmlkID09PSBtZXNzYWdlSWRcbiAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgIC4uLm1zZyxcbiAgICAgICAgICAgICAgICByZWFjdGlvbnM6IG1zZy5yZWFjdGlvbnMuaW5jbHVkZXMoZW1vamkpXG4gICAgICAgICAgICAgICAgICA/IG1zZy5yZWFjdGlvbnMuZmlsdGVyKHIgPT4gciAhPT0gZW1vamkpXG4gICAgICAgICAgICAgICAgICA6IFsuLi5tc2cucmVhY3Rpb25zLCBlbW9qaV0sXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDogbXNnXG4gICAgICAgIClcblxuICAgICAgaWYgKHNlbGVjdGVkQ2hhbm5lbCkge1xuICAgICAgICBzZXRDaGFubmVsTWVzc2FnZXMocHJldiA9PiAoe1xuICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgW3NlbGVjdGVkQ2hhbm5lbF06IHVwZGF0ZU1lc3NhZ2VzKHByZXZbc2VsZWN0ZWRDaGFubmVsXSB8fCBbXSksXG4gICAgICAgIH0pKVxuICAgICAgfSBlbHNlIGlmIChzZWxlY3RlZERpcmVjdE1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRVc2VyID0gdXNlcnMuZmluZCh1ID0+IHUubmFtZSA9PT0gc2VsZWN0ZWREaXJlY3RNZXNzYWdlKVxuICAgICAgICBpZiAoIXNlbGVjdGVkVXNlcikgcmV0dXJuXG4gICAgICAgIGNvbnN0IHVzZXJJZHMgPSBbY3VycmVudFVzZXIuaWQsIHNlbGVjdGVkVXNlci5pZF0uc29ydCgpXG4gICAgICAgIGNvbnN0IGRtUGFpcklkID0gYCR7dXNlcklkc1swXX1fJHt1c2VySWRzWzFdfWBcbiAgICAgICAgc2V0RE1NZXNzYWdlcyhwcmV2ID0+ICh7XG4gICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICBbZG1QYWlySWRdOiB1cGRhdGVNZXNzYWdlcyhwcmV2W2RtUGFpcklkXSB8fCBbXSksXG4gICAgICAgIH0pKVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gdG9nZ2xlIHJlYWN0aW9uOicsIGVycm9yKVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGhhbmRsZUFkZENoYW5uZWwgPSBhc3luYyAobmFtZTogc3RyaW5nKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnNvbGUubG9nKCdBdHRlbXB0aW5nIHRvIGNyZWF0ZSBjaGFubmVsOicsIG5hbWUpXG4gICAgICBjb25zdCBuZXdDaGFubmVsID0gYXdhaXQgYXBpLmNyZWF0ZUNoYW5uZWwobmFtZSlcbiAgICAgIGNvbnNvbGUubG9nKCdDaGFubmVsIGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5OicsIG5ld0NoYW5uZWwpXG4gICAgICBzZXRDaGFubmVscyhwcmV2ID0+IFsuLi5wcmV2LCBuZXdDaGFubmVsXSlcbiAgICAgIHNldFNlbGVjdGVkQ2hhbm5lbChuZXdDaGFubmVsLmlkKVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gY3JlYXRlIGNoYW5uZWw6JywgZXJyb3IpXG4gICAgfVxuICB9XG5cbiAgY29uc3QgaGFuZGxlQWRkRGlyZWN0TWVzc2FnZSA9IGFzeW5jICh1c2VyTmFtZTogc3RyaW5nKSA9PiB7XG4gICAgaWYgKCFjdXJyZW50VXNlcikgcmV0dXJuXG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIC8vIEZpbmQgdGhlIHNlbGVjdGVkIHVzZXJcbiAgICAgIGNvbnN0IHNlbGVjdGVkVXNlciA9IHVzZXJzLmZpbmQodSA9PiB1Lm5hbWUgPT09IHVzZXJOYW1lKVxuICAgICAgaWYgKCFzZWxlY3RlZFVzZXIpIHJldHVyblxuXG4gICAgICAvLyBDcmVhdGUgYSBjaGFubmVsIG5hbWUgZm9yIHRoZSBETSB0aGF0J3MgY29uc2lzdGVudCByZWdhcmRsZXNzIG9mIHdobyBjcmVhdGVzIGl0XG4gICAgICBjb25zdCBwYXJ0aWNpcGFudHMgPSBbY3VycmVudFVzZXIubmFtZSwgdXNlck5hbWVdLnNvcnQoKVxuICAgICAgY29uc3QgY2hhbm5lbE5hbWUgPSBgZG1fJHtwYXJ0aWNpcGFudHMuam9pbignXycpfWBcblxuICAgICAgLy8gQ2hlY2sgaWYgdGhlIGNoYW5uZWwgYWxyZWFkeSBleGlzdHNcbiAgICAgIGNvbnN0IGV4aXN0aW5nQ2hhbm5lbCA9IGNoYW5uZWxzLmZpbmQoYyA9PiBjLm5hbWUgPT09IGNoYW5uZWxOYW1lKVxuICAgICAgaWYgKGV4aXN0aW5nQ2hhbm5lbCkge1xuICAgICAgICBzZXRTZWxlY3RlZENoYW5uZWwoZXhpc3RpbmdDaGFubmVsLmlkKVxuICAgICAgICBzZXRTZWxlY3RlZERpcmVjdE1lc3NhZ2UodXNlck5hbWUpXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICAvLyBDcmVhdGUgYSBuZXcgY2hhbm5lbCBmb3IgdGhlIERNXG4gICAgICBjb25zdCBuZXdDaGFubmVsID0gYXdhaXQgYXBpLmNyZWF0ZUNoYW5uZWwoY2hhbm5lbE5hbWUpXG4gICAgICBzZXRDaGFubmVscyhwcmV2ID0+IFsuLi5wcmV2LCBuZXdDaGFubmVsXSlcbiAgICAgIHNldFNlbGVjdGVkQ2hhbm5lbChuZXdDaGFubmVsLmlkKVxuICAgICAgc2V0U2VsZWN0ZWREaXJlY3RNZXNzYWdlKHVzZXJOYW1lKVxuICAgICAgXG4gICAgICAvLyBBZGQgdG8gZXhpc3RpbmcgRE1zIGxpc3RcbiAgICAgIHNldEV4aXN0aW5nRE1zKHByZXYgPT4gWy4uLnByZXYsIHsgdXNlck5hbWUgfV0pXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBjcmVhdGUgRE0gY2hhbm5lbDonLCBlcnJvcilcbiAgICB9XG4gIH1cblxuICAvLyBVcGRhdGUgdGhlIFNlbGVjdFVzZXJEaWFsb2cgaGFuZGxlclxuICBjb25zdCBoYW5kbGVTZWxlY3RVc2VyID0gKHVzZXJOYW1lOiBzdHJpbmcpID0+IHtcbiAgICBoYW5kbGVBZGREaXJlY3RNZXNzYWdlKHVzZXJOYW1lKVxuICAgIHNldElzU2VsZWN0VXNlckRpYWxvZ09wZW4oZmFsc2UpXG4gIH1cblxuICAvLyBBZGQgaGFuZGxlTG9nb3V0IGZ1bmN0aW9uXG4gIGNvbnN0IGhhbmRsZUxvZ291dCA9ICgpID0+IHtcbiAgICAvLyBDbG9zZSBhbnkgb3BlbiBkaWFsb2dzXG4gICAgc2V0SXNTZWxlY3RVc2VyRGlhbG9nT3BlbihmYWxzZSlcbiAgICBcbiAgICAvLyBDbGVhciB1c2VyIHN0YXRlXG4gICAgc2V0Q3VycmVudFVzZXIobnVsbClcbiAgICBzZXRDaGFubmVsTWVzc2FnZXMoe30pXG4gICAgc2V0RE1NZXNzYWdlcyh7fSlcbiAgICBzZXRTZWxlY3RlZENoYW5uZWwoJycpXG4gICAgc2V0U2VsZWN0ZWREaXJlY3RNZXNzYWdlKG51bGwpXG4gICAgc2V0U2VsZWN0ZWRUaHJlYWQobnVsbClcbiAgICBzZXRTZWFyY2hSZXN1bHRzKG51bGwpXG4gICAgXG4gICAgLy8gUmVkaXJlY3QgdG8gbG9naW4gcGFnZVxuICAgIHJvdXRlci5wdXNoKCcvJylcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGgtc2NyZWVuXCI+XG4gICAgICB7Y3VycmVudFVzZXIgJiYgKFxuICAgICAgICA8U2lkZWJhclxuICAgICAgICAgIGNoYW5uZWxzPXtjaGFubmVscy5tYXAoYyA9PiAoe1xuICAgICAgICAgICAgaWQ6IGMuaWQsXG4gICAgICAgICAgICBuYW1lOiBjLm5hbWUsXG4gICAgICAgICAgICBpc0RNOiBjLm5hbWUuc3RhcnRzV2l0aCgnZG1fJylcbiAgICAgICAgICB9KSl9XG4gICAgICAgICAgdXNlcnM9e3VzZXJzfVxuICAgICAgICAgIGV4aXN0aW5nRE1zPXtleGlzdGluZ0RNc31cbiAgICAgICAgICBzZWxlY3RlZENoYW5uZWw9e3NlbGVjdGVkQ2hhbm5lbCA/IGNoYW5uZWxzLmZpbmQoYyA9PiBjLmlkID09PSBzZWxlY3RlZENoYW5uZWwpPy5uYW1lIHx8ICcnIDogJyd9XG4gICAgICAgICAgc2V0U2VsZWN0ZWRDaGFubmVsPXthc3luYyAoY2hhbm5lbE5hbWUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNoYW5uZWwgPSBjaGFubmVscy5maW5kKGMgPT4gYy5uYW1lID09PSBjaGFubmVsTmFtZSlcbiAgICAgICAgICAgIGlmIChjaGFubmVsKSB7XG4gICAgICAgICAgICAgIHNldFNlbGVjdGVkQ2hhbm5lbChjaGFubmVsLmlkKVxuICAgICAgICAgICAgICAvLyBJZiBpdCdzIGEgRE0gY2hhbm5lbCwgc2V0IHRoZSBzZWxlY3RlZERpcmVjdE1lc3NhZ2VcbiAgICAgICAgICAgICAgaWYgKGNoYW5uZWwubmFtZS5zdGFydHNXaXRoKCdkbV8nKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IFtfLCAuLi5wYXJ0aWNpcGFudHNdID0gY2hhbm5lbC5uYW1lLnNwbGl0KCdfJylcbiAgICAgICAgICAgICAgICBjb25zdCBvdGhlclVzZXIgPSBwYXJ0aWNpcGFudHMuZmluZChuYW1lID0+IG5hbWUgIT09IGN1cnJlbnRVc2VyLm5hbWUpXG4gICAgICAgICAgICAgICAgc2V0U2VsZWN0ZWREaXJlY3RNZXNzYWdlKG90aGVyVXNlciB8fCBudWxsKVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkRGlyZWN0TWVzc2FnZShudWxsKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHNldFNlbGVjdGVkQXZhdGFyKG51bGwpXG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAvLyBSZXNldCB1c2VyIHN0YXR1cyB3aGVuIGxlYXZpbmcgYXZhdGFyIGNoYXRcbiAgICAgICAgICAgICAgaWYgKGN1cnJlbnRVc2VyICYmIHNlbGVjdGVkQXZhdGFyKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgYXBpLnVwZGF0ZVVzZXJTdGF0dXMoY3VycmVudFVzZXIuaWQsIHtcbiAgICAgICAgICAgICAgICAgIHN0YXR1czogJ29ubGluZScsXG4gICAgICAgICAgICAgICAgICBzdGF0dXNNZXNzYWdlOiAnJyxcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIHNldFVzZXJzKHByZXYgPT4gcHJldi5tYXAodXNlciA9PiBcbiAgICAgICAgICAgICAgICAgIHVzZXIuaWQgPT09IGN1cnJlbnRVc2VyLmlkIFxuICAgICAgICAgICAgICAgICAgICA/IHsgLi4udXNlciwgc3RhdHVzOiAnb25saW5lJywgc3RhdHVzTWVzc2FnZTogJycgfVxuICAgICAgICAgICAgICAgICAgICA6IHVzZXJcbiAgICAgICAgICAgICAgICApKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfX1cbiAgICAgICAgICBzZWxlY3RlZERpcmVjdE1lc3NhZ2U9e3NlbGVjdGVkRGlyZWN0TWVzc2FnZX1cbiAgICAgICAgICBvblNlbGVjdERpcmVjdE1lc3NhZ2U9e2hhbmRsZVNlbGVjdFVzZXJ9XG4gICAgICAgICAgb25BZGREaXJlY3RNZXNzYWdlPXsoKSA9PiBzZXRJc1NlbGVjdFVzZXJEaWFsb2dPcGVuKHRydWUpfVxuICAgICAgICAgIG9uRGVsZXRlRGlyZWN0TWVzc2FnZT17YXN5bmMgKHVzZXJOYW1lOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgIC8vIEZpbmQgdGhlIERNIGNoYW5uZWxcbiAgICAgICAgICAgIGNvbnN0IHBhcnRpY2lwYW50cyA9IFtjdXJyZW50VXNlci5uYW1lLCB1c2VyTmFtZV0uc29ydCgpXG4gICAgICAgICAgICBjb25zdCBjaGFubmVsTmFtZSA9IGBkbV8ke3BhcnRpY2lwYW50cy5qb2luKCdfJyl9YFxuICAgICAgICAgICAgY29uc3QgY2hhbm5lbCA9IGNoYW5uZWxzLmZpbmQoYyA9PiBjLm5hbWUgPT09IGNoYW5uZWxOYW1lKVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoY2hhbm5lbCkge1xuICAgICAgICAgICAgICAvLyBSZW1vdmUgdGhlIGNoYW5uZWxcbiAgICAgICAgICAgICAgc2V0Q2hhbm5lbHMocHJldiA9PiBwcmV2LmZpbHRlcihjID0+IGMuaWQgIT09IGNoYW5uZWwuaWQpKVxuICAgICAgICAgICAgICAvLyBSZW1vdmUgZnJvbSBleGlzdGluZ0RNc1xuICAgICAgICAgICAgICBzZXRFeGlzdGluZ0RNcyhwcmV2ID0+IHByZXYuZmlsdGVyKGRtID0+IGRtLnVzZXJOYW1lICE9PSB1c2VyTmFtZSkpXG4gICAgICAgICAgICAgIC8vIENsZWFyIHNlbGVjdGlvbiBpZiBuZWVkZWRcbiAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkQ2hhbm5lbCA9PT0gY2hhbm5lbC5pZCkge1xuICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkQ2hhbm5lbCgnJylcbiAgICAgICAgICAgICAgICBzZXRTZWxlY3RlZERpcmVjdE1lc3NhZ2UobnVsbClcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH19XG4gICAgICAgICAgb25TdGF0dXNDaGFuZ2U9e2FzeW5jIChzdGF0dXM6IHN0cmluZywgc3RhdHVzTWVzc2FnZTogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWN1cnJlbnRVc2VyKSByZXR1cm5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgYXdhaXQgYXBpLnVwZGF0ZVVzZXJTdGF0dXMoY3VycmVudFVzZXIuaWQsIHsgc3RhdHVzLCBzdGF0dXNNZXNzYWdlIH0pXG4gICAgICAgICAgICAgIHNldFVzZXJzKHByZXYgPT4gcHJldi5tYXAodXNlciA9PiBcbiAgICAgICAgICAgICAgICB1c2VyLmlkID09PSBjdXJyZW50VXNlci5pZCBcbiAgICAgICAgICAgICAgICAgID8geyAuLi51c2VyLCBzdGF0dXMsIHN0YXR1c01lc3NhZ2UgfVxuICAgICAgICAgICAgICAgICAgOiB1c2VyXG4gICAgICAgICAgICAgICkpXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gdXBkYXRlIHN0YXR1czonLCBlcnJvcilcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9fVxuICAgICAgICAgIG9uUHJvZmlsZUltYWdlQ2hhbmdlPXthc3luYyAoZmlsZTogRmlsZSkgPT4ge1xuICAgICAgICAgICAgaWYgKCFjdXJyZW50VXNlcikgcmV0dXJuXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRVc2VyID0gYXdhaXQgYXBpLnVwbG9hZFByb2ZpbGVJbWFnZShjdXJyZW50VXNlci5pZCwgZmlsZSlcbiAgICAgICAgICAgICAgc2V0VXNlcnMocHJldiA9PiBwcmV2Lm1hcCh1c2VyID0+IFxuICAgICAgICAgICAgICAgIHVzZXIuaWQgPT09IGN1cnJlbnRVc2VyLmlkIFxuICAgICAgICAgICAgICAgICAgPyB7IC4uLnVzZXIsIHByb2ZpbGVJbWFnZTogdXBkYXRlZFVzZXIucHJvZmlsZUltYWdlIH1cbiAgICAgICAgICAgICAgICAgIDogdXNlclxuICAgICAgICAgICAgICApKVxuICAgICAgICAgICAgICBzZXRDdXJyZW50VXNlcihwcmV2ID0+IHByZXYgPyB7IC4uLnByZXYsIHByb2ZpbGVJbWFnZTogdXBkYXRlZFVzZXIucHJvZmlsZUltYWdlIH0gOiBudWxsKVxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHVwZGF0ZSBwcm9maWxlIGltYWdlOicsIGVycm9yKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH19XG4gICAgICAgICAgb25BZGRDaGFubmVsPXtoYW5kbGVBZGRDaGFubmVsfVxuICAgICAgICAgIG9uRGVsZXRlQ2hhbm5lbD17KGNoYW5uZWw6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgc2V0Q2hhbm5lbHMocHJldiA9PiBwcmV2LmZpbHRlcihjID0+IGMubmFtZSAhPT0gY2hhbm5lbCkpXG4gICAgICAgICAgfX1cbiAgICAgICAgICBjdXJyZW50VXNlcj17Y3VycmVudFVzZXJ9XG4gICAgICAgICAgZG1NZXNzYWdlcz17ZG1NZXNzYWdlc31cbiAgICAgICAgICBzZWxlY3RlZEF2YXRhcj17c2VsZWN0ZWRBdmF0YXJ9XG4gICAgICAgICAgb25TZWxlY3RBdmF0YXI9e2FzeW5jIChhdmF0YXIpID0+IHtcbiAgICAgICAgICAgIHNldFNlbGVjdGVkQXZhdGFyKGF2YXRhcilcbiAgICAgICAgICAgIHNldFNlbGVjdGVkQ2hhbm5lbCgnJylcbiAgICAgICAgICAgIHNldFNlbGVjdGVkRGlyZWN0TWVzc2FnZShudWxsKVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBVcGRhdGUgdXNlciBzdGF0dXMgd2hlbiBzZWxlY3RpbmcgYW4gYXZhdGFyXG4gICAgICAgICAgICBpZiAoY3VycmVudFVzZXIpIHtcbiAgICAgICAgICAgICAgYXdhaXQgYXBpLnVwZGF0ZVVzZXJTdGF0dXMoY3VycmVudFVzZXIuaWQsIHtcbiAgICAgICAgICAgICAgICBzdGF0dXM6ICdhY3RpdmUnLFxuICAgICAgICAgICAgICAgIHN0YXR1c01lc3NhZ2U6IGBDaGF0dGluZyB3aXRoICR7YXZhdGFyfWAsXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIHNldFVzZXJzKHByZXYgPT4gcHJldi5tYXAodXNlciA9PiBcbiAgICAgICAgICAgICAgICB1c2VyLmlkID09PSBjdXJyZW50VXNlci5pZCBcbiAgICAgICAgICAgICAgICAgID8geyAuLi51c2VyLCBzdGF0dXM6ICdhY3RpdmUnLCBzdGF0dXNNZXNzYWdlOiBgQ2hhdHRpbmcgd2l0aCAke2F2YXRhcn1gIH1cbiAgICAgICAgICAgICAgICAgIDogdXNlclxuICAgICAgICAgICAgICApKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH19XG4gICAgICAgICAgb25Mb2dvdXQ9e2hhbmRsZUxvZ291dH1cbiAgICAgICAgLz5cbiAgICAgICl9XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgIHtjdXJyZW50VXNlciAmJiAoXG4gICAgICAgICAgPEhlYWRlclxuICAgICAgICAgICAgbm90aWZpY2F0aW9ucz17bm90aWZpY2F0aW9uc31cbiAgICAgICAgICAgIGNsZWFyU2VhcmNoPXsoKSA9PiBzZXRTZWFyY2hSZXN1bHRzKG51bGwpfVxuICAgICAgICAgICAgY3VycmVudFVzZXI9e2N1cnJlbnRVc2VyfVxuICAgICAgICAgICAgb25Mb2dvdXQ9e2hhbmRsZUxvZ291dH1cbiAgICAgICAgICAvPlxuICAgICAgICApfVxuICAgICAgICB7c2VhcmNoUmVzdWx0cyA/IChcbiAgICAgICAgICA8U2VhcmNoUmVzdWx0c1xuICAgICAgICAgICAgcmVzdWx0cz17c2VhcmNoUmVzdWx0c31cbiAgICAgICAgICAgIG9uUmVzdWx0Q2xpY2s9e2hhbmRsZVNlYXJjaFJlc3VsdENsaWNrfVxuICAgICAgICAgICAgb25DbGVhclNlYXJjaD17KCkgPT4gc2V0U2VhcmNoUmVzdWx0cyhudWxsKX1cbiAgICAgICAgICAvPlxuICAgICAgICApIDogY3VycmVudFVzZXIgPyAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgZmxleFwiPlxuICAgICAgICAgICAgeyFzZWxlY3RlZFRocmVhZCA/IChcbiAgICAgICAgICAgICAgPENoYW5uZWxWaWV3XG4gICAgICAgICAgICAgICAgY2hhbm5lbD17c2VsZWN0ZWRDaGFubmVsID8gY2hhbm5lbHMuZmluZChjID0+IGMuaWQgPT09IHNlbGVjdGVkQ2hhbm5lbCk/Lm5hbWUgfHwgJycgOiAnJ31cbiAgICAgICAgICAgICAgICBkaXJlY3RNZXNzYWdlVXNlcj17c2VsZWN0ZWREaXJlY3RNZXNzYWdlID8gdXNlcnMuZmluZCh1ID0+IHUubmFtZSA9PT0gc2VsZWN0ZWREaXJlY3RNZXNzYWdlKSB8fCBudWxsIDogbnVsbH1cbiAgICAgICAgICAgICAgICBhdmF0YXJDaGF0PXtzZWxlY3RlZEF2YXRhcn1cbiAgICAgICAgICAgICAgICBzZXRTZWxlY3RlZFRocmVhZD17KG1lc3NhZ2VJZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgaWYgKCFtZXNzYWdlSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0U2VsZWN0ZWRUaHJlYWQobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBbLi4uT2JqZWN0LnZhbHVlcyhjaGFubmVsTWVzc2FnZXMpLmZsYXQoKSwgLi4uT2JqZWN0LnZhbHVlcyhkbU1lc3NhZ2VzKS5mbGF0KCldXG4gICAgICAgICAgICAgICAgICAgIC5maW5kKG0gPT4gbS5pZCA9PT0gbWVzc2FnZUlkKVxuICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0U2VsZWN0ZWRUaHJlYWQoe1xuICAgICAgICAgICAgICAgICAgICAgIGlkOiBtZXNzYWdlSWQsXG4gICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUlkOiBtZXNzYWdlSWQsXG4gICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZXM6IFt7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogbWVzc2FnZUlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcjogbWVzc2FnZS51c2VyLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogbWVzc2FnZS5jb250ZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgdGltZXN0YW1wOiBtZXNzYWdlLnRpbWVzdGFtcCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGU6IG1lc3NhZ2UuZmlsZSxcbiAgICAgICAgICAgICAgICAgICAgICB9XSxcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIG1lc3NhZ2VzPXtcbiAgICAgICAgICAgICAgICAgIHNlbGVjdGVkQ2hhbm5lbFxuICAgICAgICAgICAgICAgICAgICA/IGNoYW5uZWxNZXNzYWdlc1tzZWxlY3RlZENoYW5uZWxdIHx8IFtdXG4gICAgICAgICAgICAgICAgICAgIDogc2VsZWN0ZWREaXJlY3RNZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICAgPyAoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkbVVzZXIgPSB1c2Vycy5maW5kKHUgPT4gdS5uYW1lID09PSBzZWxlY3RlZERpcmVjdE1lc3NhZ2UpXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZG1Vc2VyKSByZXR1cm4gW11cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZG1QYWlySWQgPSBgJHtbY3VycmVudFVzZXIuaWQsIGRtVXNlci5pZF0uc29ydCgpWzBdfV8ke1tjdXJyZW50VXNlci5pZCwgZG1Vc2VyLmlkXS5zb3J0KClbMV19YFxuICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZG1NZXNzYWdlc1tkbVBhaXJJZF0gfHwgW11cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKClcbiAgICAgICAgICAgICAgICAgICAgICA6IHNlbGVjdGVkQXZhdGFyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGRtTWVzc2FnZXNbYGF2YXRhcl8ke3NlbGVjdGVkQXZhdGFyfV8ke2N1cnJlbnRVc2VyLmlkfWBdIHx8IFtdXG4gICAgICAgICAgICAgICAgICAgICAgICA6IFtdXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG9uU2VuZE1lc3NhZ2U9e2hhbmRsZVNlbmRNZXNzYWdlfVxuICAgICAgICAgICAgICAgIG9uUmVhY3Rpb249e2hhbmRsZVJlYWN0aW9ufVxuICAgICAgICAgICAgICAgIGN1cnJlbnRVc2VyPXtjdXJyZW50VXNlcn1cbiAgICAgICAgICAgICAgICBvblNlYXJjaD17aGFuZGxlU2VhcmNofVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgPFRocmVhZFZpZXdcbiAgICAgICAgICAgICAgICB0aHJlYWQ9e3NlbGVjdGVkVGhyZWFkfVxuICAgICAgICAgICAgICAgIG9uQ2xvc2U9eygpID0+IHNldFNlbGVjdGVkVGhyZWFkKG51bGwpfVxuICAgICAgICAgICAgICAgIGN1cnJlbnRVc2VyPXtjdXJyZW50VXNlcn1cbiAgICAgICAgICAgICAgICBvblNlbmRSZXBseT17YXN5bmMgKGNvbnRlbnQ6IHN0cmluZywgZmlsZT86IEZpbGUpID0+IHtcbiAgICAgICAgICAgICAgICAgIGlmICghY3VycmVudFVzZXIgfHwgIXNlbGVjdGVkVGhyZWFkPy5tZXNzYWdlSWQpIHJldHVyblxuICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVwbHkgPSBhd2FpdCBhcGkuc2VuZFRocmVhZFJlcGx5KHNlbGVjdGVkVGhyZWFkLm1lc3NhZ2VJZCwge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgdXNlcklkOiBjdXJyZW50VXNlci5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAuLi4oZmlsZSA/IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZmlsZS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBmaWxlLnR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgfSA6IHt9KSxcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgc2V0U2VsZWN0ZWRUaHJlYWQocHJldiA9PiBwcmV2ID8ge1xuICAgICAgICAgICAgICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZXM6IFsuLi5wcmV2Lm1lc3NhZ2VzLCByZXBseV0sXG4gICAgICAgICAgICAgICAgICAgIH0gOiBudWxsKVxuICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHNlbmQgcmVwbHk6JywgZXJyb3IpXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICkgOiBudWxsfVxuICAgICAgPC9kaXY+XG4gICAgICA8U2VsZWN0VXNlckRpYWxvZ1xuICAgICAgICBpc09wZW49e2lzU2VsZWN0VXNlckRpYWxvZ09wZW59XG4gICAgICAgIG9uQ2xvc2U9eygpID0+IHNldElzU2VsZWN0VXNlckRpYWxvZ09wZW4oZmFsc2UpfVxuICAgICAgICB1c2Vycz17dXNlcnN9XG4gICAgICAgIG9uU2VsZWN0VXNlcj17aGFuZGxlU2VsZWN0VXNlcn1cbiAgICAgICAgY3VycmVudFVzZXI9e2N1cnJlbnRVc2VyIX1cbiAgICAgIC8+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlUm91dGVyIiwidXNlU2VhcmNoUGFyYW1zIiwiU2lkZWJhciIsIkhlYWRlciIsIkNoYW5uZWxWaWV3IiwiVGhyZWFkVmlldyIsIlNlYXJjaFJlc3VsdHMiLCJTZWxlY3RVc2VyRGlhbG9nIiwiYXBpIiwiU2xhY2tJbnRlcmZhY2UiLCJjaGFubmVscyIsInNlYXJjaFBhcmFtcyIsInVzZXJuYW1lIiwiZ2V0Iiwic2V0Q2hhbm5lbHMiLCJzZWxlY3RlZENoYW5uZWwiLCJzZXRTZWxlY3RlZENoYW5uZWwiLCJzZWxlY3RlZFRocmVhZCIsInNldFNlbGVjdGVkVGhyZWFkIiwic2VhcmNoUmVzdWx0cyIsInNldFNlYXJjaFJlc3VsdHMiLCJjaGFubmVsTWVzc2FnZXMiLCJzZXRDaGFubmVsTWVzc2FnZXMiLCJkbU1lc3NhZ2VzIiwic2V0RE1NZXNzYWdlcyIsInVzZXJzIiwic2V0VXNlcnMiLCJjdXJyZW50VXNlciIsInNldEN1cnJlbnRVc2VyIiwibm90aWZpY2F0aW9ucyIsInNldE5vdGlmaWNhdGlvbnMiLCJzZWxlY3RlZERpcmVjdE1lc3NhZ2UiLCJzZXRTZWxlY3RlZERpcmVjdE1lc3NhZ2UiLCJpc1NlbGVjdFVzZXJEaWFsb2dPcGVuIiwic2V0SXNTZWxlY3RVc2VyRGlhbG9nT3BlbiIsInNlbGVjdGVkQXZhdGFyIiwic2V0U2VsZWN0ZWRBdmF0YXIiLCJleGlzdGluZ0RNcyIsInNldEV4aXN0aW5nRE1zIiwicm91dGVyIiwiZmV0Y2hJbml0aWFsRGF0YSIsImNoYW5uZWxzRGF0YSIsInVzZXJzRGF0YSIsIlByb21pc2UiLCJhbGwiLCJnZXRDaGFubmVscyIsImdldFVzZXJzIiwibGVuZ3RoIiwiaWQiLCJleGlzdGluZ1VzZXIiLCJmaW5kIiwidSIsIm5hbWUiLCJkbVBhaXJzIiwiZ2V0RE1QYWlycyIsIm5ld1VzZXIiLCJjcmVhdGVVc2VyIiwic3RhdHVzIiwic3RhdHVzTWVzc2FnZSIsInByZXYiLCJlcnJvciIsImNvbnNvbGUiLCJmZXRjaE1lc3NhZ2VzIiwibWVzc2FnZXMiLCJnZXRNZXNzYWdlcyIsImZldGNoRE1NZXNzYWdlcyIsInNlbGVjdGVkVXNlciIsInVzZXJJZHMiLCJzb3J0IiwiZG1QYWlySWQiLCJ1bmRlZmluZWQiLCJmZXRjaEF2YXRhck1lc3NhZ2VzIiwidXNlclNwZWNpZmljQXZhdGFySWQiLCJhdmF0YXJLZXkiLCJoYW5kbGVTZWFyY2giLCJxdWVyeSIsInRyaW0iLCJsb3dlcmNhc2VRdWVyeSIsInRvTG93ZXJDYXNlIiwiYWxsTWVzc2FnZXMiLCJPYmplY3QiLCJ2YWx1ZXMiLCJmbGF0IiwicmVzdWx0cyIsImZpbHRlciIsIm1lc3NhZ2UiLCJjb250ZW50TWF0Y2giLCJjb250ZW50IiwiaW5jbHVkZXMiLCJmaWxlbmFtZU1hdGNoIiwiZmlsZSIsImhhbmRsZVNlYXJjaFJlc3VsdENsaWNrIiwicmVzdWx0IiwiY2hhbm5lbCIsImVudHJpZXMiLCJzb21lIiwibSIsImRtS2V5IiwidXNlcjEiLCJ1c2VyMiIsInNwbGl0Iiwib3RoZXJVc2VyIiwiaGFuZGxlU2VuZE1lc3NhZ2UiLCJmaWxlRGF0YSIsImZvcm1EYXRhIiwiRm9ybURhdGEiLCJhcHBlbmQiLCJ1cGxvYWRSZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiYm9keSIsIm9rIiwianNvbiIsIkVycm9yIiwiZGV0YWlscyIsImZpbGVVcmwiLCJ0eXBlIiwidXJsIiwidXBkYXRlVXNlclN0YXR1cyIsIm1hcCIsInVzZXIiLCJtZXNzYWdlRGF0YSIsInVzZXJJZCIsImNoYW5uZWxJZCIsImF2YXRhcklkIiwibmV3TWVzc2FnZSIsInNlbmRNZXNzYWdlIiwiaGFuZGxlUmVhY3Rpb24iLCJtZXNzYWdlSWQiLCJlbW9qaSIsInRvZ2dsZVJlYWN0aW9uIiwidXBkYXRlTWVzc2FnZXMiLCJtc2ciLCJyZWFjdGlvbnMiLCJyIiwiaGFuZGxlQWRkQ2hhbm5lbCIsImxvZyIsIm5ld0NoYW5uZWwiLCJjcmVhdGVDaGFubmVsIiwiaGFuZGxlQWRkRGlyZWN0TWVzc2FnZSIsInVzZXJOYW1lIiwicGFydGljaXBhbnRzIiwiY2hhbm5lbE5hbWUiLCJqb2luIiwiZXhpc3RpbmdDaGFubmVsIiwiYyIsImhhbmRsZVNlbGVjdFVzZXIiLCJoYW5kbGVMb2dvdXQiLCJwdXNoIiwiZGl2IiwiY2xhc3NOYW1lIiwiaXNETSIsInN0YXJ0c1dpdGgiLCJfIiwib25TZWxlY3REaXJlY3RNZXNzYWdlIiwib25BZGREaXJlY3RNZXNzYWdlIiwib25EZWxldGVEaXJlY3RNZXNzYWdlIiwiZG0iLCJvblN0YXR1c0NoYW5nZSIsIm9uUHJvZmlsZUltYWdlQ2hhbmdlIiwidXBkYXRlZFVzZXIiLCJ1cGxvYWRQcm9maWxlSW1hZ2UiLCJwcm9maWxlSW1hZ2UiLCJvbkFkZENoYW5uZWwiLCJvbkRlbGV0ZUNoYW5uZWwiLCJvblNlbGVjdEF2YXRhciIsImF2YXRhciIsIm9uTG9nb3V0IiwiY2xlYXJTZWFyY2giLCJvblJlc3VsdENsaWNrIiwib25DbGVhclNlYXJjaCIsImRpcmVjdE1lc3NhZ2VVc2VyIiwiYXZhdGFyQ2hhdCIsInRpbWVzdGFtcCIsImRtVXNlciIsIm9uU2VuZE1lc3NhZ2UiLCJvblJlYWN0aW9uIiwib25TZWFyY2giLCJ0aHJlYWQiLCJvbkNsb3NlIiwib25TZW5kUmVwbHkiLCJyZXBseSIsInNlbmRUaHJlYWRSZXBseSIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsImlzT3BlbiIsIm9uU2VsZWN0VXNlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/slack-interface.tsx\n"));

/***/ })

});